@using BookBuddy.Models.Pages
@using BookBuddy.Models.ViewModels
@using EPiServer.Web.Mvc.Html

@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor

@{
    var userLang = HttpContextAccessor.HttpContext.Request.Query["language"].FirstOrDefault() ??
                   (HttpContextAccessor.HttpContext.Request.Path.Value.Contains("/sv") ? "sv-SE" : "en-GB");
}

@model IPageViewModel<SitePageData>

<!DOCTYPE html>
<html lang="@Model.CurrentPage.Language">
<head>
    <meta name="viewport" content="width=device-width" />
    <meta title="@Model.CurrentPage.MetaTitle" />
    <meta name="description" content="">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="~/css/site.css">
    
    <title>Cookie Policy</title>
</head>
<body>
    <div class="page">
        <div class="navbar offcanvas-lg offcanvas-start navbar-expand-lg navbar-wrapper offcanvas" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
            @await Html.PartialAsync("_Navbar", Model)
        </div>

        <div class="main-content">
            <div class="header sticky-top">
                @await Html.PartialAsync("_Header", Model)
            </div>

            <main>
                @RenderBody()
                 @await Html.PartialAsync("~/Views/Shared/Partials/cookiepartial.cshtml") 
            </main>

            <div class="footer">
                @await Html.PartialAsync("_Footer", Model)
            </div>
        </div>
    </div>

    
    <script src="~/js/cookietractor-declaration.js" defer></script>
    <script src="~/js/cookieConsent.js" async></script>
</body>
</html>

