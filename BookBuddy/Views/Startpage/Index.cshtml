@using BookBuddy.Business.Services.StartPageService
@using BookBuddy.Models.DataModels
@model StartPageViewModel
@inject StartPageService _startPageService

@{
    Layout = "~/Views/Shared/Layouts/StartPageLayout.cshtml";
    ViewData["Title"] = "Start";

    var currentPage = Model.CurrentPage;
    var books = _startPageService.GetBooksAsync(currentPage).Result; 
}

@* <div class="container-sm startpage-wrapper">
    <div class="startpage-header">
        <h1 class="card-title">@Model.CurrentPage.Heading</h1>
    </div>

    <div class="startpage-mainbody">
        @Html.Raw(Model.CurrentPage.MainBody)
    </div>

    
    <component type="typeof(CounterBlazorPage)" render-mode="Server" />
    <component type="typeof(TestForm)" render-mode="Server" />
</div> *@
 
@* @if(books != null)
{
        <div class="book-cards-wrapper">
            @foreach (var result in books)
            {
            <component type="typeof(BookCard)" render-mode="Server" param-Result="result" />
        }
        </div>
}
else
{
    <p>De lyckades inte</p>
}
 *@

@* <component type="typeof(Carousel)" render-mode="Server" param-books="Model.Books" /> *@

@if (Model.HeroSectionModel != null)
{
     <component type="typeof(HeroSection)" render-mode="Server"
               param-HeroSectionModel="Model.HeroSectionModel" />

}
else
{
    <p>HeroSectionModel is null</p>
}


@if (Model.InfoSectionModel != null)
{
    <component type="typeof(InfoSection)" render-mode="Server"
               param-InfoSectionModel="Model.InfoSectionModel" />

}
else
{
    <p>InfoSectionModel is null</p>
}

