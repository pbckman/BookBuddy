@using BookBuddy.Business.Services.StartPageService
@using EPiServer.Web.Mvc.Html
@using BookBuddy.Models.ViewModels
@inject IJSRuntime JS
@inject IContentLoader ContentLoader
@inject StartPageService StartPageService



@code {
    [Parameter]
    public string? SlideShowTitle { get; set; }

    [Parameter]
    public string? SlideShowContent { get; set; }

    [Parameter]
    public List<BookPageModel> Books { get; set; } = new List<BookPageModel>();
   
    [Parameter]
    public StartPage? currentPage { get; set; }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JS.InvokeVoidAsync("startContinuousScroll");
        }
    }

}


<div class="carousel-wrapper-container container ">
    <h2 class="text-center carousel-text">@SlideShowTitle </h2>
    <p class="text-center carousel-text carousel-p">@SlideShowContent</p>
    <div class="carousel-wrapper position-relative overflow-hidden">
        <div id="bookCarousel" class="carousel-content d-flex">
            @if (Books != null && Books.Count > 0)
            {
                foreach (var book in Books)
                {
                    <div class="carousel-card">
                        <CarouselBookCard Book="@book" />
                    </div>
                }
            }
            else
            {
                <p>No profiles available to display.</p>
            }
        </div>
    </div>
</div>


 <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
 
@* <script src="/js/carousel.js" defer></script>
 *@

